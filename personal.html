<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>GestiÃ³n de Personal</title>
  <style>
    body { font-family: 'Segoe UI', sans-serif; margin:0; background:#f4f6f9; }
    nav {
      display:flex; justify-content:space-between; align-items:center;
      background:#2d3436; color:white; padding:12px 20px;
    }
    nav ul { list-style:none; display:flex; margin:0; padding:0; }
    nav ul li { margin:0 10px; }
    nav ul li a, nav ul li button { color:white; text-decoration:none; background:none; border:none; cursor:pointer; font-size:15px; }
    .container { padding:20px; }
    .user {
      background:white; padding:15px; margin:10px 0;
      border-radius:10px; border:1px solid #ccc;
      display:flex; justify-content:space-between; align-items:center;
      box-shadow:0 2px 8px rgba(0,0,0,0.1);
    }
    button { margin:0 5px; padding:6px 12px; border:none; border-radius:6px; cursor:pointer; font-size:14px; }
    .edit { background:#3498db; color:white; }
    .delete { background:#e74c3c; color:white; }
    .add { background:#2ecc71; color:white; padding:10px 15px; margin-bottom:15px; font-weight:bold; }
    #logoutBtn { background:#e74c3c; padding:6px 12px; border:none; border-radius:5px; cursor:pointer; color:white; }
  </style>
</head>
<body>
  <nav>
    <div class="logo">ðŸ‘¥ Personal</div>
    <ul>
      <li><a href="index.html">Planificador</a></li>
      <li><a href="personal.html">Personal</a></li>
      <li><button id="logoutBtn">Cerrar SesiÃ³n</button></li>
    </ul>
  </nav>

  <div class="container">
    <h2>GestiÃ³n de Personal</h2>
    <button class="add" onclick="addUser()">âž• Agregar Personal</button>
    <div id="userList"></div>
  </div>

  <script>
    let users = JSON.parse(localStorage.getItem("users")) || [
      { username:"Jose", role:"admin" },
      { username:"Natalia", role:"editor" }
    ];
    const currentUser = JSON.parse(localStorage.getItem("currentUser"));

    function renderUsers() {
      const container = document.getElementById("userList");
      container.innerHTML = "";
      users.forEach((u, i) => {
        const div = document.createElement("div");
        div.className = "user";
        div.innerHTML = `
          <span><b>${u.username}</b> (${u.role})</span>
          <div>
            <button class="edit" onclick="editUser(${i})">Editar</button>
            <button class="delete" onclick="deleteUser(${i})">Eliminar</button>
          </div>
        `;
        container.appendChild(div);
      });
      localStorage.setItem("users", JSON.stringify(users));
    }

    function addUser() {
      const name = prompt("Ingrese el nombre del usuario:");
      if (!name) return;
      const role = prompt("Ingrese el rol (admin/editor):","editor");
      users.push({ username:name, role:role });
      renderUsers();
    }

    function editUser(i) {
      const newName = prompt("Nuevo nombre:", users[i].username);
      if (!newName) return;
      const newRole = prompt("Nuevo rol (admin/editor):", users[i].role);
      users[i].username = newName;
      users[i].role = newRole;
      renderUsers();
    }

    function deleteUser(i) {
      if (confirm("Â¿Seguro que deseas eliminar este usuario?")) {
        users.splice(i,1);
        renderUsers();
      }
    }

    function logout() {
      localStorage.removeItem("currentUser");
      window.location.href = "login.html";
    }

    document.getElementById("logoutBtn").onclick = logout;
    renderUsers();
  </script>
</body>
</html>
